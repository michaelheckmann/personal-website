---
const { class: className } = Astro.props;
---

<button
  id="scroll-top"
  class:list={[
    "fixed right-8 bottom-8 z-50",
    "grid size-10 cursor-pointer place-items-center rounded-lg",
    "font-mono text-sm text-zinc-500",
    "transition-all duration-300",
    "pointer-events-none opacity-0",
    "border border-zinc-800 bg-transparent shadow-lg backdrop-blur-lg",
    "hover:border-zinc-500 hover:text-zinc-300",
    "ring-zinc-200 outline-none focus-visible:text-zinc-200 focus-visible:ring-1",
    className,
  ]}
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width="24"
    height="24"
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="h-5 w-5"
  >
    <path d="M12 19V5M5 12l7-7 7 7"></path>
  </svg>
</button>

<script>
  const handleScroll = () => {
    const scrollButton = document.getElementById("scroll-top");
    const isScrolled = window.scrollY > 200;

    if (scrollButton) {
      scrollButton.style.opacity = isScrolled ? "1" : "0";
      scrollButton.style.pointerEvents = isScrolled ? "auto" : "none";
    }
  };

  const scrollToTop = () => {
    window.scrollTo({
      top: 0,
      behavior: "smooth",
    });
  };

  // Add event listeners
  document.addEventListener("scroll", handleScroll);
  document.getElementById("scroll-top")?.addEventListener("click", scrollToTop);
</script>
